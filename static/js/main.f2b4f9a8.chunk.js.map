{"version":3,"sources":["images/apple-icon-60.png","firebase/config.js","hooks/useFirestore.js","comps/ImageGrid.js","comps/Modal.js","comps/Title.js","hooks/useStorage.js","comps/ProgressBar.js","comps/UploadForm.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","useFirestore","collection","useState","docs","setDocs","useEffect","unsub","orderBy","onSnapshot","snap","documents","forEach","doc","push","data","id","ImageGrid","setSelectedImg","console","log","className","map","motion","div","key","whileHover","opacity","onClick","url","img","src","alt","initial","animate","transition","delay","Modal","selectedImg","e","target","classList","contains","y","Title","logoImage","style","useStorage","file","progress","setProgress","error","setError","setUrl","storageRef","ref","name","collectionRef","put","on","percentage","bytesTransferred","totalBytes","err","a","getDownloadURL","createdAt","add","ProgressBar","setFile","intitial","width","UploadForm","types","type","onChange","selected","files","includes","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f2b4f9a8.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","// Your web app's Firebase configuration\nimport firebase from 'firebase';\nimport 'firebase/storage';\nimport 'firebase/firestore';\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyAp5uLzzppU7U0SK0e76c96mw2-5FzXLgM\",\n  authDomain: \"firegram-6ea9b.firebaseapp.com\",\n  projectId: \"firegram-6ea9b\",\n  storageBucket: \"firegram-6ea9b.appspot.com\",\n  messagingSenderId: \"517634689560\",\n  appId: \"1:517634689560:web:fed41ffafe22045c01916d\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\n//store files and images\nconst projectStorage = firebase.storage();\n\n//store data (your firestore db)\nconst projectFirestore = firebase.firestore();\n\n//get timestamp of data stored\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\n\n\n\nexport { projectStorage, projectFirestore, timestamp };","import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase/config';\n\nconst useFirestore = (collection) => {\n\n  const [docs, setDocs] = useState([]);\n\n  useEffect(() => {\n    const unsub = projectFirestore.collection(collection)\n      .orderBy('createdAt', 'desc')\n      .onSnapshot((snap) => {\n        let documents = [];\n        snap.forEach(doc => {\n          documents.push({ ...doc.data(), id: doc.id });\n        });\n        setDocs(documents);\n      })\n    return () => unsub();\n\n  }, [collection])\n\n  return { docs };\n}\n\nexport default useFirestore\n","import React from 'react';\nimport useFirestore from '../hooks/useFirestore';\nimport { motion } from 'framer-motion';\n\nconst ImageGrid = ({ setSelectedImg }) => {\n  const { docs } = useFirestore('images');\n  console.log(docs)\n\n  return (\n    <div className=\"img-grid\">\n      { docs && docs.map(doc => (\n        <motion.div className=\"img-wrap\" key={doc.id}\n          whileHover={{ opacity: 1 }}\n          onClick={() => setSelectedImg(doc.url)}\n        >\n          <motion.img src={doc.url} alt=\"uploaded pic\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 1 }}\n          />\n        </motion.div>\n      ))}\n    </div>\n  )\n}\n\nexport default ImageGrid;\n","import React from 'react';\nimport { motion } from 'framer-motion';\n\n\nconst Modal = ({ selectedImg, setSelectedImg }) => {\n\n  const handleClick = (e) => {\n    if (e.target.classList.contains('backdrop')) {\n      setSelectedImg(null)\n    }\n  }\n\n  return (\n    <motion.div\n      className=\"backdrop\"\n      onClick={handleClick}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n\n      <img src={selectedImg} alt=\"enlarged pic\"\n        initial={{ y: \"-100vh\" }}\n        animate={{ y: 0 }}\n      />\n    </motion.div>\n  )\n}\n\nexport default Modal;\n","import React from 'react';\nimport logoImage from '../images/apple-icon-60.png'\n\nconst Title = () => {\n  return (\n    <div className=\"title\">\n      <img src={logoImage} alt=\"logo\" style={{ 'marginLeft': '30px' }} />\n      <h1>PhotoDump</h1>\n      <h2>Your Memories - Pictures</h2>\n      <p>Put your absolute best pictures in here.</p>\n    </div>\n  )\n}\n\nexport default Title;","import { useState, useEffect } from 'react';\nimport { projectStorage, projectFirestore, timestamp } from '../firebase/config'\n\nconst useStorage = (file) => {\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState(null);\n  const [url, setUrl] = useState(null);\n\n  useEffect(() => {\n    //references\n    const storageRef = projectStorage.ref(file.name);\n    const collectionRef = projectFirestore.collection('images');\n\n    storageRef.put(file).on('state_changed', (snap) => {\n      let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n      setProgress(percentage);\n    }, (err) => {\n      setError(err);\n    }, async () => {\n      const url = await storageRef.getDownloadURL();\n      const createdAt = timestamp();\n      collectionRef.add({ url, createdAt });\n      setUrl(url);\n    })\n\n  }, [file])\n\n\n  return { progress, url, error };\n}\n\nexport default useStorage;\n","import React, { useEffect } from 'react';\nimport useStorage from '../hooks/useStorage';\nimport { motion } from 'framer-motion';\n\nconst ProgressBar = ({ file, setFile }) => {\n  const { url, progress } = useStorage(file)\n  console.log(progress, url)\n\n  useEffect(() => {\n    if (url) {\n      setFile(null);\n    }\n  }, [url, setFile])\n\n  return (\n    <motion.div\n      className=\"progress-bar\"\n      intitial={{ width: 0 }}\n      animate={{ width: progress + \"%\" }}\n    >\n    </motion.div>\n  )\n}\n\nexport default ProgressBar\n","import React, { useState } from 'react'\nimport ProgressBar from './ProgressBar';\n\nconst UploadForm = () => {\n\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState(null);\n\n  const types = ['image/png', 'image/jpg', 'image/jpeg'];\n\n  const changeHandler = (e) => {\n    let selected = e.target.files[0];\n    console.log(selected);\n\n    if (selected && types.includes(selected.type)) {\n      setFile(selected);\n      setError('');\n    } else {\n      setFile(null);\n      setError('Please select an image file (png or jpeg)');\n    }\n  }\n\n  return (\n    <div>\n      <form>\n        <label>\n          <input type=\"file\" onChange={changeHandler} />\n          <span>+</span>\n        </label>\n        <div className=\"output\">\n          {error &&\n            <div className=\"error\"> {error} </div>}\n\n          {file &&\n            <div> {file.name} </div>}\n\n          {file &&\n            <ProgressBar file={file} setFile={setFile} />}\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default UploadForm\n","import React, { useState } from 'react';\nimport ImageGrid from './comps/ImageGrid';\nimport Modal from './comps/Modal';\nimport Title from './comps/Title';\nimport UploadForm from './comps/UploadForm';\n\nfunction App() {\n  const [selectedImg, setSelectedImg] = useState(null);\n  return (\n    <div className=\"App\">\n      <Title />\n      <UploadForm />\n      <ImageGrid setSelectedImg={setSelectedImg} />\n      {selectedImg &&\n        <Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg} />\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA"],"sourceRoot":""}